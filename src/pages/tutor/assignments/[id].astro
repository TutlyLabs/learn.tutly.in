---
import RootLayout from "@/layouts/RootLayout.astro";
import { createServerCaller } from "@/trpc/server";
import AssignmentsPage from "./assignmentsPage.tsx";

type Props = {
  id: string;
};

const caller = await createServerCaller(Astro.request);
const { id } = Astro.params;
const data = await caller.assignments.getAllAssignedAssignmentsByUserId({id:id || ""});

const { courses, coursesWithAssignments } = data || {};
---

<RootLayout title={`${id} Assignment`}>
   <AssignmentsPage courses={courses} coursesWithAssignments={coursesWithAssignments} id={id}/>
</RootLayout>
